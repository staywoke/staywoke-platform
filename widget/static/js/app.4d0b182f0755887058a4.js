!function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],i[o]&&m.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(u&&u(e);m.length;)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={1:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push(["Vtdi",0]),n()}({"+EXP":function(t,e){},"/7UJ":function(t,e){},"/SFx":function(t,e,n){var a={"./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy"};function i(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(a)},i.resolve=s,t.exports=i,i.id="/SFx"},0:function(t,e){},"1lMd":function(t,e){},"2jZN":function(t,e){},9752:function(t,e){},"9O0a":function(t,e){},HrL2:function(t,e){},Lfm5:function(t,e){},O078:function(t,e){},"Srk+":function(t,e){},"U2K+":function(t,e){},Ut9X:function(t,e){},Vtdi:function(t,e,n){"use strict";n.r(e);var a=n("oCYn"),i=n("4d7F"),s=n.n(i),o=n("gDS+"),r=n.n(o),c=n("Mc43"),l=n.n(c),u=n("lvPz"),d=n.n(u),m=n("6Yqx"),p=n.n(m),f=n("L2JU"),g=n("DkTT"),h={state:{expires:null,actions:[]},mutations:{SAVE_LATEST_ACTION:function(t,e){for(var n=!1,a=0;a<t.actions.length;a++)if(t.actions[a].slug===e.slug){n=!0;break}n||(t.actions.push(e),t.expires||(t.expires=(new Date).getTime()+36e5))},SAVE_LATEST_ACTIONS:function(t,e){t.expires=(new Date).getTime()+36e5,t.actions=e},FLUSH_LATEST_ACTIONS:function(t){t.expires=null,t.actions=[]}},getters:{getLatestAction:function(t){return function(e){for(var n=0;n<t.actions.length;n++)if(t.actions[n].slug===e)return t.actions[n];return null}},getLatestActions:function(t){var e=(new Date).getTime();return t.expires-e>0?t.actions:null}},actions:{saveLatestAction:function(t,e){(0,t.commit)("SAVE_LATEST_ACTION",e)},saveLatestActions:function(t,e){(0,t.commit)("SAVE_LATEST_ACTIONS",e)},flushLatestActions:function(t){(0,t.commit)("FLUSH_LATEST_ACTIONS")}}},v={state:{expires:null,featured:[]},mutations:{SAVE_FEATURED:function(t,e){t.expires=(new Date).getTime()+36e5,t.featured=e},FLUSH_FEATURED:function(t){t.expires=null,t.featured=[]}},getters:{getFeaturedContent:function(t){var e=(new Date).getTime();return t.expires-e>0?t.featured:null}},actions:{saveFeatured:function(t,e){(0,t.commit)("SAVE_FEATURED",e)},flushFeatured:function(t){(0,t.commit)("FLUSH_FEATURED")}}},w=n("GQeE"),_=n.n(w),C={state:{impact:[]},mutations:{SAVE_IMPACT:function(t,e){t.impact=e},FLUSH_IMPACT:function(t){t.impact=[]}},getters:{getImpact:function(t){var e={},n=[],a=JSON.parse(r()(t.impact));a.sort(function(t,e){return new Date(e.date)-new Date(t.date)});for(var i=0;i<a.length;i++){var s=a[i];e.hasOwnProperty(s.type)||(e[s.type]={type:s.type,total:0,lastTitle:s.name,lastDate:s.date}),e[s.type].total+=1}for(var o=_()(e),c=0;c<o.length;c++)n.push(e[o]);return n},getImpactList:function(t){return function(e){var n=[],a=JSON.parse(r()(t.impact));a.sort(function(t,e){return new Date(e.date)-new Date(t.date)});for(var i=0;i<a.length;i++){var s=a[i];s.type===e&&n.push(s)}return n}},getImpactCount:function(t){return t.impact.length}},actions:{saveImpact:function(t,e){(0,t.commit)("SAVE_IMPACT",e)},flushImpact:function(t){(0,t.commit)("FLUSH_IMPACT")}}},k={state:{expires:null,news:[]},mutations:{ARTICLE_READ:function(t,e){for(var n=0;n<t.news.length;n++)if(t.news[n].slug===e.slug){t.news[n].read=(new Date).getTime();break}},SAVE_ARTICLE:function(t,e){for(var n=!1,a=0;a<t.news.length;a++)if(t.news[a].slug===e.slug){n=!0;break}n||(t.news.push(e),t.expires||(t.expires=(new Date).getTime()+36e5))},SAVE_NEWS:function(t,e){t.expires=(new Date).getTime()+36e5,t.news=e},FLUSH_NEWS:function(t){t.expires=null,t.news=[]}},getters:{getNewsArticle:function(t){return function(e){for(var n=0;n<t.news.length;n++)if(t.news[n].slug===e)return t.news[n];return null}},getNewsArticles:function(t){var e=(new Date).getTime();return t.expires-e>0?t.news:null}},actions:{markArticleRead:function(t,e){(0,t.commit)("ARTICLE_READ",e)},saveArticle:function(t,e){(0,t.commit)("SAVE_ARTICLE",e)},saveNews:function(t,e){(0,t.commit)("SAVE_NEWS",e)},flushNews:function(t){(0,t.commit)("FLUSH_NEWS")}}},y=n("aCH8"),b=n.n(y),I={Actions:h,Featured:v,Impact:C,News:k,User:{state:{account:{}},mutations:{LOGIN:function(t,e){t.account=e},LOGOUT:function(t,e){t.account={}}},getters:{getUserAccount:function(t){return void 0!==t.account.token?t.account:null},getFirstName:function(t){return t.account.firstName?t.account.firstName:null},getUserFullName:function(t){return t.account.firstName&&t.account.lastName?t.account.firstName+" "+t.account.lastName:null},getUserInitials:function(t){return t.account.firstName&&t.account.lastName?""+t.account.firstName.charAt(0)+t.account.lastName.charAt(0):"SW"},getUserEmail:function(t){return t.account.email?t.account.email:null},getUserEmailHash:function(t){return t.account.email?b()(t.account.email):null},getUserRole:function(t){return t.account.role?t.account.role:null},getUserToken:function(t){return t.account.firstName?t.account.token:null},isLoggedIn:function(t){return void 0!==t.account&&void 0!==t.account.token},isSuperUser:function(t){return void 0!==t.account&&void 0!==t.account.role&&"superuser"===t.account.role}},actions:{userLogout:function(t,e){(0,t.commit)("LOGOUT",e)},userLogin:function(t,e){(0,t.commit)("LOGIN",e)}}}};a.default.use(f.a);var A=new f.a.Store({modules:I,plugins:[Object(g.a)()],strict:!1}),L=new a.default,O={apiVersion:"2015-03-31",region:"us-east-1"},S={Lambda:{fetch:function(t,e,n){return A.getters.getUserAccount?S.Lambda.callPrivate(t,e,n):S.Lambda.callPublic(t,e,n)},callPublic:function(t,e,n){"string"!=typeof e&&(e=r()(e)),l.a.config.region="us-east-1",l.a.config.credentials=new l.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-1:b421c663-df47-43f7-8cd3-5f19c010e27e"}),l.a.config.credentials.params.IdentityId=null,l.a.config.credentials.params.Logins=null;var a=new d.a(O),i=new s.a(function(n,i){a.invoke({FunctionName:t,Payload:e},function(t,e){if(t||!e||!e.Payload)return i(new Error(t||"unknown error executing lambda function"));var a="null"!==e.Payload?JSON.parse(e.Payload):{status:"OK"},s=a&&void 0!==a&&void 0!==a.errorMessage,o=a&&void 0!==a&&void 0!==a.errorMessage?a.errorMessage:"An Unknown Error has Occured";return a&&!s?n(a):i(new Error(o))})});return n&&"function"==typeof n?i.then(n.bind(null,null),n):i},callPrivate:function(t,e,n){"string"!=typeof e&&(e=r()(e));var a=A.getters.getUserAccount;if(a){var i=S.Credentials.needsRefresh()?S.Credentials.refresh.bind(S):S.Credentials.set.bind(S),o=new s.a(function(s,o){i(a,function(a){if(a)return o(new Error(a||"unknown error executing lambda function"));new d.a(O).invoke({FunctionName:t,Payload:e},function(t,e){if(t||!e||!e.Payload)return n(t||"unknown error executing lambda function");var a="null"!==e.Payload?JSON.parse(e.Payload):{status:"OK"},i=a&&void 0!==a&&void 0!==a.errorMessage,r=a&&void 0!==a&&void 0!==a.errorMessage?a.errorMessage:"An Unknown Error has Occured";return a&&!i?s(a):o(new Error(r))})})});return n&&"function"==typeof n?o.then(n.bind(null,null),n):o}}},Credentials:{needsRefresh:function(){var t=void 0,e=void 0,n=void 0;if(l.a.config&&l.a.config.credentials&&l.a.config.credentials.expireTime)t=l.a.config.credentials.expireTime;else{if(!(e=A.getters.getUserAccount))return;t=e.rawCredentials.Credentials.Expiration,n=e.lastLoginDate}return(new Date-new Date(n))/6e4>30240&&L.$emit("SESSION_EXPIRED"),(new Date(t)-new Date)/6e4<0},refresh:function(t,e){if(t=t||A.getters.getUserAccount){l.a.config.region="us-east-1",l.a.config.credentials=new l.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-1:b421c663-df47-43f7-8cd3-5f19c010e27e"});var n=new p.a;l.a.config.credentials=n.credentialsFrom(t.rawCredentials);var a={userId:t.id};S.Lambda.callPublic("refreshCredentials",a,function(t,n){if(t)return e(t);var a=new p.a;return l.a.config.credentials=a.credentialsFrom(n.rawCredentials),A.dispatch("userLogin",n),e(null)})}},set:function(t,e){l.a.config.region="us-east-1",l.a.config.credentials=new l.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-1:b421c663-df47-43f7-8cd3-5f19c010e27e"});var n=new p.a;return l.a.config.credentials=n.credentialsFrom(t.rawCredentials),e(null)}}},E=function(t,e,n,a){console.log("trackEvent",t,e,n,a)},D=n("eaVx"),M=n("NMye"),$=n("y8H8"),T=n("HT0k"),U=n("YeC7"),N=n("qpNA"),x=n("MetH"),P=n("Htfs"),R={name:"Header",props:{emailHash:{type:String},username:{type:String,default:"Guest"}},data:function(){return{loggedIn:this.$store.getters.isLoggedIn,initials:this.$store.getters.getUserInitials,actionCount:this.$store.getters.getImpactCount}},computed:{actionsTaken:function(){var t=parseInt(this.actionCount);return 0===t?"No Action <br /> Taken":1===t?"One Action <br /> Taken":t.toLocaleString()+" Actions <br /> Taken"}},created:function(){var t=this,e=this;L.$on("USER_LOGIN",function(){e.loggedIn=!0}),L.$on("USER_LOGOUT",function(){e.loggedIn=!1}),L.$on("IMPACT_UPDATED",function(){e.actionCount=t.$store.getters.getImpactCount})},methods:{accountClicked:function(){this.$emit("accountClicked")},logoClicked:function(){this.$emit("logoClicked")},menuClicked:function(){this.$emit("menuClicked")},menuItemClicked:function(t){this.$emit("menuItemClicked",t)},myImpactClicked:function(){this.$emit("myImpactClicked"),this.$emit("hideDetails")}},components:{Button:D.a,Col:T.a,Dropdown:U.a,DropdownMenu:N.a,DropdownItem:M.a,Logo:$.a,Header:P.a,Row:x.a}},F=n("JFUb"),j=Object(F.a)(R,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-header",{staticClass:"header"},[n("el-row",[n("el-col",{attrs:{span:10}},[n("div",{staticClass:"desktop-only logo",on:{click:t.logoClicked}},[n("router-link",{attrs:{to:{name:"index"}}},[n("sw-logo",{attrs:{size:50}})],1)],1),t._v(" "),t.loggedIn?n("div",{staticClass:"mobile-only account"},[n("div",{staticClass:"user-avatar",on:{click:t.accountClicked}},[t.emailHash?n("img",{staticClass:"avatar",attrs:{src:"https://www.gravatar.com/avatar/"+t.emailHash+"?s=44"}}):t._e(),t._v(" "),t.emailHash?t._e():n("span",{staticClass:"avatar"},[t._v(t._s(t.initials))])]),t._v(" "),n("div",{staticClass:"user-details",on:{click:t.accountClicked}},[n("strong",[t._v(t._s(t.username))]),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.actionsTaken)}})])]):t._e()]),t._v(" "),n("el-col",{attrs:{span:4}},[t.loggedIn?n("div",{staticClass:"desktop-only account"},[n("div",{staticClass:"user-avatar",on:{click:t.accountClicked}},[t.emailHash?n("img",{staticClass:"avatar",attrs:{src:"https://www.gravatar.com/avatar/"+t.emailHash+"?s=44"}}):t._e(),t._v(" "),t.emailHash?t._e():n("span",{staticClass:"avatar"},[t._v(t._s(t.initials))])]),t._v(" "),n("div",{staticClass:"user-details",on:{click:t.accountClicked}},[n("strong",[t._v(t._s(t.username))]),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.actionsTaken)}})])]):t._e(),t._v(" "),n("div",{staticClass:"mobile-only logo",on:{click:t.logoClicked}},[n("router-link",{attrs:{to:{name:"index"}}},[n("sw-logo",{attrs:{size:50}})],1)],1)]),t._v(" "),n("el-col",{staticClass:"menu",attrs:{span:10}},[n("div",{staticClass:"desktop-only"},[t.loggedIn?n("a",{on:{click:t.myImpactClicked}},[n("span",[t._v("\n            My Impact\n          ")])]):t._e(),t._v(" "),t.loggedIn?t._e():n("router-link",{attrs:{to:{name:"login"}}},[n("span",[t._v("\n            Login\n          ")])]),t._v(" "),t.loggedIn?t._e():n("router-link",{attrs:{to:{name:"register"}}},[n("span",[t._v("\n            Register\n          ")])]),t._v(" "),t.loggedIn?n("router-link",{attrs:{to:{name:"logout"}}},[n("span",[t._v("\n            Logout\n          ")])]):t._e()],1),t._v(" "),n("el-dropdown",{staticClass:"mobile-only",attrs:{trigger:"click",size:"medium"},on:{command:t.menuItemClicked}},[n("span",{staticClass:"el-dropdown-link menu-button",on:{click:t.menuClicked}},[n("i",{staticClass:"el-icon-more"})]),t._v(" "),n("el-dropdown-menu",{staticClass:"menu-actions",attrs:{slot:"dropdown"},slot:"dropdown"},[t.loggedIn?t._e():n("router-link",{attrs:{to:{name:"login"}}},[n("el-dropdown-item",{attrs:{command:"login"}},[t._v("\n              Login\n            ")])],1),t._v(" "),t.loggedIn?t._e():n("router-link",{attrs:{to:{name:"register"}}},[n("el-dropdown-item",{attrs:{command:"register"}},[t._v("\n              Register\n            ")])],1),t._v(" "),t.loggedIn?n("router-link",{attrs:{to:{name:"logout"}}},[n("el-dropdown-item",{attrs:{command:"logout",divided:""}},[t._v("\n              Logout\n            ")])],1):t._e()],1)],1)],1)],1)],1)},[],!1,function(t){n("1lMd")},"data-v-668e5923",null).exports;a.default.component("sw-header",j);var H=j,V=Object(F.a)(H,void 0,void 0,!1,null,null,null).exports,z=n("DCeH"),W={name:"Header",props:{feedUpdated:{type:Boolean,default:!1}},data:function(){return{loggedIn:this.$store.getters.isLoggedIn}},computed:{getColumns:function(){return this.loggedIn?8:12}},methods:{feedClicked:function(){this.$emit("feedClicked")},actionCenterClicked:function(){this.$emit("actionCenterClicked")},myImpactClicked:function(){this.$emit("myImpactClicked"),this.$emit("hideDetails")}},components:{Button:D.a,Col:T.a,Footer:z.a,Row:x.a}},B=Object(F.a)(W,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-footer",{staticClass:"footer"},[n("el-row",[n("el-col",{attrs:{span:t.getColumns}},[n("router-link",{attrs:{to:{name:"index"}}},[n("el-button",{staticClass:"footer-button",attrs:{type:"text"},on:{click:t.feedClicked}},[n("font-awesome-icon",{staticClass:"button-icon",attrs:{size:"2x",icon:["fal","list-alt"]}}),t._v(" "),n("span",{staticClass:"button-label"},[t._v("Feed")]),t._v(" "),t.feedUpdated?n("span",{staticClass:"notification"}):t._e()],1)],1)],1),t._v(" "),t.loggedIn?n("el-col",{attrs:{span:t.getColumns}},[t.loggedIn?n("el-button",{staticClass:"footer-button",attrs:{type:"text"},on:{click:t.myImpactClicked}},[n("font-awesome-icon",{staticClass:"button-icon",attrs:{size:"2x",icon:["fal","chart-bar"]}}),t._v(" "),n("span",{staticClass:"button-label"},[t._v("My Impact")])],1):t._e()],1):t._e(),t._v(" "),n("el-col",{attrs:{span:t.getColumns}},[t.loggedIn?n("router-link",{attrs:{to:{name:"logout"}}},[n("el-button",{staticClass:"footer-button",attrs:{type:"text"}},[n("font-awesome-icon",{staticClass:"button-icon",attrs:{size:"2x",icon:["fal","sign-out"]}}),t._v(" "),n("span",{staticClass:"button-label"},[t._v("Logout")])],1)],1):t._e(),t._v(" "),t.loggedIn?t._e():n("router-link",{attrs:{to:{name:"login"}}},[n("el-button",{staticClass:"footer-button",attrs:{type:"text"}},[n("font-awesome-icon",{staticClass:"button-icon",attrs:{size:"2x",icon:["fal","sign-in"]}}),t._v(" "),n("span",{staticClass:"button-label"},[t._v("Login")])],1)],1)],1)],1)],1)},[],!1,function(t){n("b50P")},"data-v-7e772246",null).exports;a.default.component("sw-footer",B);var G=B,J=Object(F.a)(G,void 0,void 0,!1,null,null,null).exports,X=["call","donate","event","protest","sign-petition","signup-updates"],Y=function(t,e){var n=void 0;return"call"===e?n="phone":"donate"===e?n="dollar-sign":"event"===e?n="clock":"protest"===e?n="hand-rock":"sign-petition"===e?n="pencil":"signup-updates"===e&&(n="envelope-open"),[t,n]},q=function(t){var e=void 0;return"call"===t?e="Phone Calls Made":"donate"===t?e="Donations Made":"event"===t?e="Events Attended":"protest"===t?e="Protests Attended":"sign-petition"===t?e="Petitions Signed":"signup-updates"===t&&(e="Updates Requested"),e},K={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},Z=function(t){t||(t={});var e=t.title?t.title:"StayWoke: Learn | Build | Resist",n=t.description?t.description:"There are more of us who support equality and justice than who oppose it. Join a community of learners, builders, and activists to create solutions to advance equality and justice in America.",a=t.keywords?t.keywords:"StayWoke, Resist, Equality, Justice, Community, Activist, America",i=t.image?t.image:"https://staywoke-platform.s3.amazonaws.com/staywoke-card.jpg",s=t.url?t.url:"https://app.staywoke.org";return s.length>1&&"/"===s.charAt(0)&&(s=window.location.protocol+"//"+window.location.host+s),{title:e,meta:[{name:"description",content:n},{name:"keywords",content:a},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@staywoke"},{name:"twitter:title",content:e},{name:"twitter:description",content:n},{name:"twitter:creator",content:"@staywoke"},{name:"twitter:image:src",content:i},{name:"twitter:domain",content:"app.staywoke.org"},{name:"og:locale",content:"en_US"},{name:"og:type",content:"website"},{name:"og:title",content:e},{name:"og:url",content:s},{name:"og:image",content:i},{name:"og:site_name",content:"StayWoke"},{name:"og:description",content:n},{name:"dc:language",content:"en_US"},{name:"dc:title",content:e},{name:"dc:source",content:s},{name:"dc:description",content:n}]}},Q={name:"Impact",props:{impact:{type:Object,default:function(){return{type:null,total:0,lastTitle:null,lastDate:null}},validator:function(t){return-1!==X.indexOf(t.type)}}},computed:{getIcon:function(){return Y("fas",this.impact.type)},getSummary:function(){return q(this.impact.type)},getLastAction:function(){return"<b>Latest:</b>&nbsp; "+this.impact.lastTitle}},methods:{moreClicked:function(){this.$emit("moreClicked",this.impact.type)}},components:{Button:D.a}},tt=Object(F.a)(Q,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"impact"},[n("div",{staticClass:"totals"},[t._v("\n    "+t._s(t.impact.total)+"\n    "),n("font-awesome-icon",{staticClass:"icon",attrs:{color:"#000000",icon:t.getIcon}})],1),t._v(" "),n("div",{staticClass:"summary"},[t._v("\n    "+t._s(t.getSummary)+"\n  ")]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"recent-activity"},[n("span",{staticClass:"title",domProps:{innerHTML:t._s(t.getLastAction)}}),t._v(" "),n("span",{staticClass:"date"},[t._v(t._s(t._f("moment")(t.impact.lastDate,"MMMM Do")))])]),t._v(" "),n("div",{staticClass:"view-more"},[n("el-button",{staticClass:"more-button",attrs:{size:"medium"},on:{click:t.moreClicked}},[t._v("\n      More\n    ")])],1)])},[],!1,function(t){n("fEqO")},"data-v-01518c41",null).exports;a.default.component("sw-impact",tt);var et=tt,nt={name:"MyImpact",data:function(){return{loggedIn:this.$store.getters.isLoggedIn,impactList:this.$store.getters.getImpact}},methods:{moreClicked:function(t){this.$emit("showDetails",t)},hideMyImpact:function(){L.$emit("CLOSE_DRAWER")}},components:{Impact:Object(F.a)(et,void 0,void 0,!1,null,null,null).exports}},at=Object(F.a)(nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-impact"},[t.loggedIn&&t.impactList?n("ul",t._l(t.impactList,function(e,a){return e.total>0?n("li",{key:a},[n("sw-impact",{attrs:{impact:e},on:{moreClicked:function(n){t.moreClicked(e)}}})],1):t._e()})):t._e(),t._v(" "),t.loggedIn?t._e():n("div",{staticClass:"login-required"},[t._v("\n    Login to view Your Impact\n\n    "),n("router-link",{attrs:{to:{name:"login"}}},[n("el-button",{on:{click:t.hideMyImpact}},[n("span",{staticClass:"button-label"},[t._v("Login")])])],1)],1),t._v(" "),t.loggedIn&&0===t.impactList.length?n("div",{staticClass:"no-impact"},[n("p",{staticClass:"header"},[t._v("Nothing to see here")]),t._v(" "),n("p",[t._v("Check our Latest Actions to get involved. Your efforts will be shown here.")]),t._v(" "),n("router-link",{attrs:{to:{name:"index"}}},[n("el-button",{on:{click:t.hideMyImpact}},[n("span",{staticClass:"button-label"},[t._v("Latest Actions")])])],1)],1):t._e()])},[],!1,function(t){n("Ut9X")},"data-v-1b3687ee",null).exports;a.default.component("sw-my-impact",at);var it=at,st=Object(F.a)(it,void 0,void 0,!1,null,null,null).exports,ot={name:"MyImpactDetails",props:{type:{type:String,default:null},total:{type:Number,default:0}},data:function(){return{impactList:this.$store.getters.getImpactList(this.type)}},computed:{getIcon:function(){return Y("fas",this.type)},getSummary:function(){return q(this.type)}},methods:{lessClicked:function(){this.$emit("hideDetails")}},components:{Button:D.a}},rt=Object(F.a)(ot,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-impact-details"},[n("div",{staticClass:"totals"},[t._v("\n    "+t._s(t.total)+"\n    "),n("font-awesome-icon",{staticClass:"icon",attrs:{color:"#000000",icon:t.getIcon}})],1),t._v(" "),n("div",{staticClass:"summary"},[t._v("\n    "+t._s(t.getSummary)+"\n  ")]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"activity-details"},[n("ul",t._l(t.impactList,function(e,a){return n("li",{key:a},[n("span",{staticClass:"name"},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),n("span",{staticClass:"date"},[t._v("\n          "+t._s(t._f("moment")(e.date,"MMM D"))+"\n        ")])])}))]),t._v(" "),n("div",{staticClass:"view-less"},[n("el-button",{staticClass:"less-button",attrs:{size:"medium"},on:{click:t.lessClicked}},[t._v("\n      Less\n    ")])],1)])},[],!1,function(t){n("jWXf")},"data-v-379636bf",null).exports;a.default.component("sw-my-impact-details",rt);var ct=rt,lt=Object(F.a)(ct,void 0,void 0,!1,null,null,null).exports,ut={name:"Drawer",props:{opened:{type:Boolean,default:!0},showingDetails:{type:Boolean,default:!1},impactList:{type:Array,default:function(){return[]}},impactDetails:{type:Array,default:function(){return[]}}},data:function(){return{drawerOpen:!1,showDetail:!1,type:null,total:0}},mounted:function(){var t=this;L.$on("CLOSE_DRAWER",function(){t.closeDrawer()})},watch:{opened:function(t){if(this.drawerOpen=!0,!t){var e=this;setTimeout(function(){e.drawerOpen=!1},250)}}},methods:{closeDrawer:function(){this.showDetail=!1,this.$emit("closeDrawer"),this.$emit("hideDetails",this.type)},showDetails:function(t){this.type=t.type,this.total=t.total,this.showDetail=!0,this.$emit("showDetails",t)},hideDetails:function(){this.showDetail=!1,this.$emit("hideDetails",this.type)}},components:{MyImpact:st,MyImpactDetails:lt}},dt=Object(F.a)(ut,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.drawerOpen,expression:"drawerOpen"}],staticClass:"drawer"},[n("transition",{attrs:{name:"fade","enter-active-class":"fadeInUp","leave-active-class":"fadeOutDown"}},[t.opened?n("div",{staticClass:"drawer-content"},[n("transition",{attrs:{name:"fade","enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.showDetail?t._e():n("sw-my-impact",{on:{showDetails:t.showDetails}})],1),t._v(" "),n("transition",{attrs:{name:"fade","enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.showDetail?n("sw-my-impact-details",{attrs:{type:t.type,total:t.total,"impact-details":t.impactDetails},on:{hideDetails:t.hideDetails}}):t._e()],1)],1):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade","enter-active-class":"fadeIn","leave-active-class":"fadeOut"}},[t.opened?n("div",{staticClass:"backdrop",on:{click:t.closeDrawer}}):t._e()])],1)},[],!1,function(t){n("yiOS")},"data-v-73881df6",null).exports;a.default.component("sw-drawer",dt);var mt=dt,pt=Object(F.a)(mt,void 0,void 0,!1,null,null,null).exports,ft={name:"PageTemplate",props:{impactList:{type:Array,default:function(){return[]}},impactDetails:{type:Array,default:function(){return[]}},feedUpdated:{type:Boolean,default:!1}},data:function(){return{drawerOpen:!1,emailHash:this.$store.getters.getUserEmailHash,firstName:this.$store.getters.getFirstName,actionCount:this.$store.getters.getImpactCount,appMode:this.appMode}},created:function(){var t=this,e=this;L.$on("USER_LOGIN",function(){e.emailHash=t.$store.getters.getUserEmailHash,e.firstName=t.$store.getters.getFirstName,e.actionCount=t.$store.getters.getImpactCount})},methods:{accountClicked:function(){this.drawerOpen=!this.drawerOpen,E("Header Nav","Click","Account")},logoClicked:function(){this.drawerOpen=!1,document.querySelector(".main-content").scrollTop=0,E("Header Nav","Click","Logo")},menuClicked:function(){this.drawerOpen=!1,E("Header Nav","Click","Menu")},menuItemClicked:function(t){E("Menu Nav","Click",t)},feedClicked:function(){this.drawerOpen=!1,E("Footer Nav","Click","Feed")},actionCenterClicked:function(){this.drawerOpen=!1,E("Footer Nav","Click","Action Center")},myImpactClicked:function(){this.drawerOpen=!this.drawerOpen,E("Footer Nav","Show","My Impact")},closeDrawer:function(){this.drawerOpen=!1,E("Footer Nav","Hide","My Impact")},showDetails:function(t){E("Drawer","Show","Impact Details "+t.type)},hideDetails:function(t){E("Drawer","Hide","Impact Details "+t)},onScroll:function(t,e){var n=t.target.clientHeight,a=t.target.scrollHeight,i=e.scrollTop,s=n+i===a,o=0===i,r=n+i>a-60,c=i<=60,l=Math.round(i/(a-n)*100);L.$emit("SCROLLED",{atBottom:s,atTop:o,nearBottom:r,nearTop:c,percentScrolled:l})}},components:{Header:V,Footer:J,Drawer:pt}},gt=Object(F.a)(ft,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",class:t.appMode},["widget"!==t.appMode?n("sw-header",{attrs:{"email-hash":t.emailHash,username:t.firstName,"action-count":t.actionCount},on:{accountClicked:t.accountClicked,logoClicked:t.logoClicked,menuClicked:t.menuClicked,menuItemClicked:t.menuItemClicked,myImpactClicked:t.myImpactClicked}}):t._e(),t._v(" "),n("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"main-content"},[t._t("content")],2),t._v(" "),"widget"!==t.appMode?n("sw-drawer",{attrs:{opened:t.drawerOpen,"impact-list":t.impactList,"impact-details":t.impactDetails},on:{closeDrawer:t.closeDrawer,showDetails:t.showDetails,hideDetails:t.hideDetails}}):t._e(),t._v(" "),"widget"!==t.appMode?n("sw-footer",{attrs:{"feed-updated":t.feedUpdated},on:{feedClicked:t.feedClicked,actionCenterClicked:t.actionCenterClicked,myImpactClicked:t.myImpactClicked}}):t._e()],1)},[],!1,function(t){n("2jZN")},"data-v-1820c974",null).exports;a.default.component("sw-page-template",gt);var ht=gt,vt={name:"App",data:function(){return{impactList:this.$store.getters.getImpact,impactDetails:this.$store.getters.getImpactList("call"),appMode:this.appMode}},created:function(){this.getImpactList()},methods:{getImpactList:function(){var t=this;this.$store.getters.isLoggedIn&&S.Lambda.fetch("getUserImpact").then(function(e){t.$store.dispatch("saveImpact",e),L.$emit("IMPACT_UPDATED")},function(t){console.error("getUserImpact",t)})}},watch:{$route:function(t){var e=document.querySelector(".main-content");this.getImpactList(),t.params&&t.params.back||(e.scrollTop=0)}},components:{PageTemplate:Object(F.a)(ht,void 0,void 0,!1,null,null,null).exports}},wt=Object(F.a)(vt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("sw-page-template",{staticClass:"page-wrapper",attrs:{appMode:this.appMode,"impact-list":this.impactList,"impact-details":this.impactDetails}},[e("template",{slot:"content"},[e("router-view")],1)],2)],1)},[],!1,function(t){n("+EXP")},null,null).exports,_t=n("jE9Z"),Ct={name:"NewsArticle",props:{article:{type:Object,default:function(){return{addedDate:null,articleUrl:"#",imageUrl:null,slug:null,source:null,summary:null,title:null}}}},computed:{getUrl:function(){return this.article.articleUrl?this.article.articleUrl:"#"},getShareUrl:function(){return window.location.protocol+"//"+window.location.host+"/news/"+this.article.slug},backgroundImage:function(){return"url('"+this.article.imageUrl+"')"},articleTitle:function(){var t=this.article.title?this.article.title:"No Title Provided";if(t.length<=90)return t;var e=t.substr(0,89);return e.substr(0,e.lastIndexOf(" "))+" ..."}},methods:{feedClicked:function(){this.$emit("feedClicked")},actionCenterClicked:function(){this.$emit("actionCenterClicked")},myImpactClicked:function(){this.$emit("myImpactClicked"),this.$emit("hideDetails")}}},kt=Object(F.a)(Ct,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{attrs:{itemscope:"",itemtype:"http://schema.org/NewsArticle"}},[n("meta",{attrs:{itemprop:"image",content:t.article.imageUrl}}),t._v(" "),n("meta",{attrs:{itemprop:"author",content:t.article.source}}),t._v(" "),n("meta",{attrs:{itemprop:"dateModified",content:t.article.addedDate}}),t._v(" "),n("meta",{attrs:{itemprop:"datePublished",content:t.article.addedDate}}),t._v(" "),n("meta",{attrs:{itemprop:"mainEntityOfPage",content:t.article.articleUrl}}),t._v(" "),n("meta",{attrs:{itemprop:"url",content:t.getShareUrl}}),t._v(" "),n("span",{attrs:{itemprop:"publisher",itemscope:"",itemtype:"http://schema.org/Organization"}},[n("meta",{attrs:{itemprop:"name",content:t.article.source}}),t._v(" "),t._m(0)]),t._v(" "),n("router-link",{staticClass:"news-article",attrs:{to:{name:"news",params:{slug:t.article.slug}},itemprop:"url"}},[n("div",{staticClass:"image",style:{backgroundImage:t.backgroundImage}},[t.article.read?n("div",{staticClass:"read"},[n("i",{staticClass:"el-icon-check"})]):t._e()]),t._v(" "),n("div",{staticClass:"summary"},[n("div",{staticClass:"title",attrs:{itemprop:"headline"}},[t._v("\n        "+t._s(t.articleTitle)+"\n      ")]),t._v(" "),n("div",{staticClass:"details"},[n("div",{staticClass:"source"},[t._v("\n          From "+t._s(t.article.source)+"\n        ")]),t._v(" "),n("div",{staticClass:"date"},[t._v("\n          "+t._s(t._f("moment")(t.article.addedDate,"MMMM Do"))+"\n        ")])])])])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{attrs:{itemprop:"logo",itemscope:"",itemtype:"http://schema.org/ImageObject"}},[e("meta",{attrs:{itemprop:"url",content:"https://staywoke-platform.s3.amazonaws.com/icons/icon-72.png"}})])}],!1,function(t){n("9752")},"data-v-139a32cd",null).exports;a.default.component("sw-news-item",kt);var yt=kt,bt=Object(F.a)(yt,void 0,void 0,!1,null,null,null).exports,It={name:"News",props:{articles:{type:Array,default:function(){return[]}},max:{type:Number,default:20},title:{type:String,default:"News Worth Reading"},errorMessage:{type:String,default:null}},components:{NewsItem:bt}},At=Object(F.a)(It,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news"},[n("h2",[t._v(t._s(t.title))]),t._v(" "),n("ul",{staticClass:"news"},t._l(t.articles,function(e,a){return!t.errorMessage&&a<t.max?n("li",{key:a},[n("sw-news-item",{attrs:{article:e}})],1):t._e()})),t._v(" "),t.errorMessage?n("div",{staticClass:"error-message"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e()])},[],!1,function(t){n("U2K+")},"data-v-8cc14198",null).exports;a.default.component("sw-news",At);var Lt=At,Ot=Object(F.a)(Lt,void 0,void 0,!1,null,null,null).exports,St=n("c5cT"),Et={name:"FeaturedContent",props:{id:{type:String,default:null,validator:function(t){return/^[0-9]+$/.test(t)}},title:{type:String,default:"Featured Content"},errorMessage:{type:String,default:null}},components:{Tweet:St.Tweet}},Dt=Object(F.a)(Et,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"featured-content"},[n("h2",[t._v(t._s(t.title))]),t._v(" "),!t.errorMessage&&t.id?n("tweet",{staticClass:"tweet",attrs:{id:t.id,options:{cards:"hidden",conversation:"none"},"error-message":"THIS TWEET COULD NOT BE LOADED","error-message-class":"loading"}},[n("div",{staticClass:"loading"},[t._v("Loading ...")])]):t._e(),t._v(" "),t.errorMessage?n("div",{staticClass:"error-message"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e()],1)},[],!1,function(t){n("/7UJ")},"data-v-76a9c82e",null).exports;a.default.component("sw-featured-content",Dt);var Mt=Dt,$t=Object(F.a)(Mt,void 0,void 0,!1,null,null,null).exports,Tt={name:"Action",props:{action:{type:Object,default:function(){return{slug:null,type:null,title:null,national:!1,state:null,appMode:(void 0).appMode}}}},computed:{locationName:function(){return this.action.national?"National":K[this.action.state.toUpperCase()]},locationIcon:function(){return this.action.national?"stateface-us":"stateface-"+this.action.state.toLowerCase()},getIcon:function(){return Y("fas",this.action.type)},actionTitle:function(){if(this.action.assignment.length<=90)return this.action.assignment;var t=this.action.assignment.substr(0,89);return t.substr(0,t.lastIndexOf(" "))+" ..."}},methods:{handleClick:function(){this.$emit("latestActionClicked",this.action)}}},Ut=Object(F.a)(Tt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"action",class:t.appMode},[n("router-link",{attrs:{to:{name:"action",params:{type:t.action.type,slug:t.action.slug}}}},[n("el-button",{staticClass:"item-link",attrs:{type:"text"},on:{click:t.handleClick}},[n("div",{staticClass:"location"},[n("span",{staticClass:"stateface",class:t.locationIcon}),t._v(" "),n("span",{staticClass:"name"},[t._v("\n          "+t._s(t.locationName)+"\n        ")])]),t._v(" "),n("div",{staticClass:"summary"},[n("div",{staticClass:"title"},[t._v("\n          "+t._s(t.actionTitle)+"\n        ")]),t._v(" "),n("div",{staticClass:"action-type"},[n("font-awesome-icon",{staticClass:"button-icon",attrs:{color:"#FFFFFF",icon:t.getIcon}})],1)])])],1)],1)},[],!1,function(t){n("nXv0")},"data-v-867f350c",null).exports;a.default.component("sw-action",Ut);var Nt=Ut,xt=Object(F.a)(Nt,void 0,void 0,!1,null,null,null).exports,Pt={name:"LatestActions",props:{actions:{type:Array,default:function(){return[]}},max:{type:Number,default:20},title:{type:String,default:"Latest Actions"},errorMessage:{type:String,default:null}},components:{Action:xt}},Rt=Object(F.a)(Pt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"latest-actions"},[n("h2",[t._v(t._s(t.title))]),t._v(" "),n("ul",t._l(t.actions,function(e,a){return!t.errorMessage&&a<t.max?n("li",{key:a},[n("sw-action",{attrs:{action:e}})],1):t._e()})),t._v(" "),t.errorMessage?n("div",{staticClass:"error-message"},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]):t._e()])},[],!1,function(t){n("HrL2")},"data-v-b6c296a2",null).exports;a.default.component("sw-latest-actions",Rt);var Ft=Rt,jt=Object(F.a)(Ft,void 0,void 0,!1,null,null,null).exports,Ht={name:"Index",metaInfo:Z(),data:function(){return{news:null,newsError:null,tweet:null,tweetError:null,actions:null,actionsError:null,user:null,appMode:this.appMode}},created:function(){var t=this;this.getArticles(),this.getFeaturedContent(),this.getActions(),L.$on("SESSION_EXPIRED",function(){t.$router.push({name:"logout"})})},methods:{getArticles:function(){var t=this,e=this.$store.getters.getNewsArticles;e?this.news=e:S.Lambda.fetch("getArticles").then(function(e){t.news=e,t.$store.dispatch("saveNews",e)},function(e){console.error("getArticles",e),t.newsError="403 Error: Permission Denied",t.$store.dispatch("flushNews")})},getFeaturedContent:function(){var t=this,e=this.$store.getters.getFeaturedContent;e?this.tweet=e.id_str:S.Lambda.fetch("getTweet").then(function(e){e?(t.tweet=e.id_str,t.$store.dispatch("saveFeatured",e)):(t.tweetError="No Featured Content",t.$store.dispatch("flushFeatured"))},function(e){console.error("getTweets",e),t.tweetError="403 Error: Permission Denied",t.$store.dispatch("flushFeatured")})},getActions:function(){var t=this,e=this.$store.getters.getLatestActions;e?this.actions=e:S.Lambda.fetch("getActions").then(function(e){t.actions=e,t.$store.dispatch("saveLatestActions",e)},function(e){console.error("getActions",e),t.actionsError="403 Error: Permission Denied",t.$store.dispatch("flushLatestActions")})}},components:{News:Ot,FeaturedContent:$t,LatestActions:jt}},Vt=Object(F.a)(Ht,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade","enter-active-class":"fadeInLeft","leave-active-class":"hide"}},[n("div",{staticClass:"router-view feed"},[t.actions||t.actionsError?n("sw-latest-actions",{attrs:{"error-message":t.actionsError,actions:t.actions}}):t._e(),t._v(" "),"widget"!==t.appMode&&(t.tweet||t.tweetError)?n("sw-featured-content",{attrs:{id:t.tweet,"error-message":t.tweetError}}):t._e(),t._v(" "),"widget"!==t.appMode&&(t.news||t.newsError)?n("sw-news",{attrs:{articles:t.news,"error-message":t.newsError}}):t._e()],1)])},[],!1,function(t){n("O078")},null,null).exports,zt=n("+x2M"),Wt=n.n(zt),Bt=n("iDwe"),Gt=n.n(Bt),Jt={name:"NewsArticle",props:{article:{type:Object,default:function(){return{}}}},computed:{backgroundImage:function(){return"url('"+this.article.imageUrl+"')"},getUrl:function(){return this.article.articleUrl?this.article.articleUrl:null},getShareUrl:function(){return window.location.protocol+"//"+window.location.host+"/news/"+this.article.slug},getSource:function(){return this.article.source?this.article.source:this.article.resourceUrl?new URL(this.article.articleUrl).hostname.replace("www.",""):"Unknown"}},methods:{backClicked:function(){this.$emit("backClicked")},readMoreClicked:function(){this.$emit("readMoreClicked"),this.$store.getters.isLoggedIn&&S.Lambda.fetch("updateUserImpact",{type:"addArticle",resourceId:this.article.id})}},components:{Button:D.a}},Xt=Object(F.a)(Jt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"news-article",attrs:{itemscope:"",itemtype:"http://schema.org/NewsArticle"}},[n("meta",{attrs:{itemprop:"image",content:t.article.imageUrl}}),t._v(" "),n("meta",{attrs:{itemprop:"author",content:t.article.source}}),t._v(" "),n("meta",{attrs:{itemprop:"dateModified",content:t.article.addedDate}}),t._v(" "),n("meta",{attrs:{itemprop:"datePublished",content:t.article.addedDate}}),t._v(" "),n("meta",{attrs:{itemprop:"mainEntityOfPage",content:t.article.articleUrl}}),t._v(" "),n("meta",{attrs:{itemprop:"url",content:t.getShareUrl}}),t._v(" "),n("span",{attrs:{itemprop:"publisher",itemscope:"",itemtype:"http://schema.org/Organization"}},[n("meta",{attrs:{itemprop:"name",content:t.article.source}}),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"head"},[n("span",[t._v(t._s(t.getSource))]),t._v(" "),n("router-link",{attrs:{to:{name:"index",params:{back:!0}}}},[n("el-button",{staticClass:"back-button",attrs:{size:"mini"},on:{click:t.backClicked}},[t._v("‹ Back")])],1)],1),t._v(" "),n("div",{staticClass:"image",style:{backgroundImage:t.backgroundImage}},[t.article.read?n("div",{staticClass:"read"},[n("i",{staticClass:"el-icon-check"})]):t._e()]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"title",attrs:{itemprop:"headline"}},[t._v("\n      "+t._s(t.article.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"author"},[t._v("\n      By "+t._s(t.getSource)+"\n\n      "),n("span",{staticClass:"date"},[t._v("\n        "+t._s(t._f("moment")(t.article.addedDate,"MMM D"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"summary"},[t._v("\n      "+t._s(t.article.summary)+"\n    ")])]),t._v(" "),n("a",{staticClass:"read-more",attrs:{target:"_blank",rel:"noopener noreferrer",href:t.getUrl,"ng-if":"articleUrl"},on:{click:t.readMoreClicked}},[t._v("Read More")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{attrs:{itemprop:"logo",itemscope:"",itemtype:"http://schema.org/ImageObject"}},[e("meta",{attrs:{itemprop:"url",content:"https://staywoke-platform.s3.amazonaws.com/icons/icon-72.png"}})])}],!1,function(t){n("Lfm5")},"data-v-4bc875e2",null).exports;a.default.component("sw-news-article",Xt);var Yt=Xt,qt=Object(F.a)(Yt,void 0,void 0,!1,null,null,null).exports,Kt={name:"Documentation",metaInfo:function(){return this.meta},data:function(){return{article:null,readStart:null,readTime:null,articleRead:!1,scrollPercent:null,interval:null,meta:{}}},created:function(){var t=this,e=this.$route.params.slug,n=this.$store.getters.getNewsArticle(e);n?this.setData(n):S.Lambda.fetch("getArticle",{slug:e}).then(function(e){t.$store.dispatch("saveArticle",e),t.setData(e)},function(e){console.error(e),t.$router.push({name:"index"})})},mounted:function(){var t=this;L.$off("SCROLLED"),L.$on("SCROLLED",function(e){t.readStart&&t.checkReadStatus(e)}),clearInterval(this.interval),this.interval=setInterval(function(){t.checkReadStatus()},1e3)},methods:{setData:function(t){this.article=t,t.read?this.articleRead=!0:this.startReadChecker(t);var e=Gt.a.extract(t.source+" "+t.title+" "+t.summary,{language:"english",remove_digits:!0,return_changed_case:!0,return_chained_words:!1,remove_duplicates:!1,return_max_ngrams:50});this.meta=Z({title:t.title,keywords:e.sort().join(", "),description:t.summary,image:t.imageUrl,url:window.location.protocol+"//"+window.location.host+"/news/"+t.slug})},startReadChecker:function(t){var e=Wt()(t.source+" "+t.title+" "+t.summary);this.readStart=(new Date).getTime(),this.readTime=e.time},checkReadStatus:function(t){if(this.readStart&&this.readTime&&!this.articleRead){var e=.75*((new Date).getTime()-this.readStart>=this.readTime);void 0!==t&&t.nearBottom&&e?this.articleRead=!0:void 0!==t&&t.percentScrolled?this.scrollPercent=t.percentScrolled:!t&&this.scrollPercent&&this.scrollPercent>75&&e?this.articleRead=!0:t||this.scrollPercent||!e||(this.articleRead=!0),this.articleRead&&(this.$store.dispatch("markArticleRead",this.article),this.$store.getters.isLoggedIn&&S.Lambda.fetch("updateUserImpact",{type:"addArticle",resourceId:this.article.id}))}}},components:{Button:D.a,NewsArticle:qt}},Zt=Object(F.a)(Kt,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade",mode:"out-in","enter-active-class":"fadeInRight","leave-active-class":"hide"}},[this.article?e("sw-news-article",{staticClass:"article",attrs:{article:this.article}}):this._e()],1)},[],!1,function(t){n("Srk+")},"data-v-0d3e437d",null).exports,Qt=n("iSA0"),te={name:"TakeAction",data:function(){return{appMode:this.appMode}},props:{action:{type:Object,default:function(){return{}}}},computed:{backgroundImage:function(){return"url('"+this.action.imageUrl.replace("http://","https://")+"')"},getIcon:function(){return Y("fas",this.action.type)},getHeader:function(){return this.action.national?"Take Action":"Take Local Action"},getUrl:function(){return this.action.resourceUrl?this.action.resourceUrl:"#"},getAction:function(){return e=void 0,"call"===(t=this.action.type)?e="Call":"donate"===t?e="Donate":"event"===t?e="Event":"protest"===t?e="Protest":"sign-petition"===t?e="Sign":"signup-updates"===t&&(e="Signup"),e;var t,e},getButton:function(){return e=void 0,"call"===(t=this.action.type)?e="Call Voters":"donate"===t?e="Ready to Donate":"event"===t?e="Go to Event":"protest"===t?e="Join Protest":"sign-petition"===t?e="Sign Petition":"signup-updates"===t&&(e="Signup for Updates"),e;var t,e},getOrganization:function(){return this.action.organization?this.action.organization:this.action.resourceUrl?new URL(this.action.resourceUrl).hostname.replace("www.",""):"Unknown"},isActive:function(){if("call"===this.action.type){Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.isDstObserved=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var t=new Date,e=t.getTime()+6e4*t.getTimezoneOffset(),n=t.isDstObserved()?-4:-5,a=new Date(e+36e5*n);if(a.getHours()<10||a.getHours()>20)return!1}return!0}},methods:{backClicked:function(){this.$emit("backClicked")},readMoreClicked:function(){this.$emit("readMoreClicked")},actionClicked:function(){this.$emit("actionClicked"),this.$store.getters.isLoggedIn&&S.Lambda.fetch("updateUserImpact",{type:"addArticle",resourceId:this.action.id})}},components:{Alert:Qt.a,Button:D.a}},ee=Object(F.a)(te,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"take-action",class:t.appMode},[n("div",{staticClass:"head"},[n("span",{directives:[{name:"show",rawName:"v-show",value:"widget"!==t.appMode,expression:"appMode !== 'widget'"}]},[t._v(t._s(t.getHeader))]),t._v(" "),n("router-link",{attrs:{to:{name:"index",params:{back:!0}}}},[n("el-button",{staticClass:"back-button",attrs:{size:"mini"},on:{click:t.backClicked}},[t._v("‹ Back")])],1)],1),t._v(" "),n("div",{staticClass:"image",style:{backgroundImage:t.backgroundImage}},[n("div",{staticClass:"action-title"},[t._v("\n      "+t._s(t.getAction)+"\n      "),n("font-awesome-icon",{staticClass:"icon",attrs:{color:"#FFFFFF",icon:t.getIcon}})],1)]),t._v(" "),n("div",{staticClass:"content"},[t.action.name?n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.action.name)+"\n    ")]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"widget"!==t.appMode,expression:"appMode !== 'widget'"}],staticClass:"author"},[t._v("\n      By "+t._s(t.getOrganization)+"\n    ")]),t._v(" "),t.action.summary?n("div",{staticClass:"summary"},[t._v("\n      "+t._s(t.action.summary)+"\n    ")]):t._e(),t._v(" "),t.action.assignment?n("div",{staticClass:"call-to-action"},[n("b",[t._v("TAKE ACTION:")]),t._v("  "+t._s(t.action.assignment)+"\n    ")]):t._e(),t._v(" "),t.action.why?n("div",{staticClass:"summary",domProps:{innerHTML:t._s(t.action.why)}}):t._e(),t._v(" "),t.isActive?t._e():n("el-alert",{staticClass:"error",attrs:{type:"error",title:"Calling Currently Unavailable",description:"Phone banking hours are between 11am-9pm EST every day. Please come back tomorrow to contact more voters!",closable:!1,"show-icon":"widget"!==t.appMode}})],1),t._v(" "),n("div",{staticClass:"action-buttons"},[t.action.resourceUrl?n("a",{staticClass:"read-more",class:{"full-width":!("widget"===t.appMode||t.action.phoneNumber&&t.isActive)},attrs:{href:t.action.resourceUrl,target:"_blank",rel:"noopener noreferrer"},on:{click:t.readMoreClicked}},[t._v("\n      Read More\n    ")]):t._e(),t._v(" "),t.action.phoneNumber&&t.isActive?n("a",{staticClass:"read-more",class:{"full-width":"widget"!==t.appMode&&!t.action.resourceUrl},attrs:{href:"tel:"+t.action.phoneNumber.replace(/\D/g,""),target:"_parent"},on:{click:t.actionClicked}},[t._v("\n      "+t._s(t.getButton)+"\n    ")]):t._e()])])},[],!1,function(t){n("n9+i")},"data-v-22bab282",null).exports;a.default.component("sw-take-action",ee);var ne=ee,ae={name:"ActionItem",metaInfo:function(){return this.meta},data:function(){return{action:null,readStart:null,readTime:null,actionRead:!1,scrollPercent:null,interval:null,meta:{}}},created:function(){var t=this,e=this.$route.params.slug,n=this.$store.getters.getLatestAction(e);n?this.setData(n):S.Lambda.fetch("getAction",{slug:e}).then(function(e){t.$store.dispatch("saveLatestAction",e),t.setData(e)},function(e){console.error("Private getActions",e),t.actionsError="403 Error: Permission Denied"})},mounted:function(){var t=this;L.$off("SCROLLED"),L.$on("SCROLLED",function(e){t.readStart&&t.checkReadStatus(e)}),clearInterval(this.interval),this.interval=setInterval(function(){t.checkReadStatus()},1e3)},methods:{setData:function(t){this.action=t,this.startReadChecker(t);var e=Gt.a.extract("Take Action "+t.assignment+" "+t.name+" "+t.title+" "+t.summary,{language:"english",remove_digits:!0,return_changed_case:!0,return_chained_words:!1,remove_duplicates:!1,return_max_ngrams:50});this.meta=Z({title:"Take Action: "+t.name,keywords:e.sort().join(", "),description:"Take Action: "+t.assignment,image:t.imageUrl,url:window.location.protocol+"//"+window.location.host+"/action/"+t.type+"/"+t.slug})},startReadChecker:function(t){var e=Wt()(t.name+" "+t.title+" "+t.summary);this.readStart=(new Date).getTime(),this.readTime=e.time},checkReadStatus:function(t){if(this.readStart&&this.readTime&&!this.actionRead){var e=.75*((new Date).getTime()-this.readStart>=this.readTime);void 0!==t&&t.nearBottom&&e?this.actionRead=!0:void 0!==t&&t.percentScrolled?this.scrollPercent=t.percentScrolled:!t&&this.scrollPercent&&this.scrollPercent>75&&e?this.actionRead=!0:t||this.scrollPercent||!e||(this.actionRead=!0)}}},components:{TakeAction:Object(F.a)(ne,void 0,void 0,!1,null,null,null).exports}},ie=Object(F.a)(ae,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade","enter-active-class":"fadeInRight","leave-active-class":"hide"}},[this.action?e("sw-take-action",{staticClass:"action",attrs:{action:this.action}}):this._e()],1)},[],!1,function(t){n("uKh4")},"data-v-8974d6a4",null).exports,se=n("E4Gh"),oe={name:"Login",metaInfo:Z({title:"Login",description:"Login to StayWoke"}),data:function(){return{errorMessage:null}},mounted:function(){this.$store.getters.isLoggedIn&&this.$router.push({name:"index"})},methods:{signUp:function(){this.$router.push({name:"register"})},forgotPassword:function(){this.$router.push({name:"forgot-password"})},loginValid:function(t){var e=this,n=this;this.errorMessage=null,S.Lambda.callPublic("login",{userId:t.username,password:t.password}).then(function(t){L.$emit("USER_LOGIN",t),e.$store.dispatch("userLogin",t),window.location.href="/"},function(t){n.errorMessage=t.message})}},components:{LoginForm:se.a}},re=Object(F.a)(oe,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade",mode:"in-out","enter-active-class":"fadeInLeft","leave-active-class":"hide"}},[e("sw-login-form",{staticClass:"login",attrs:{"error-message":this.errorMessage},on:{signUp:this.signUp,forgotPassword:this.forgotPassword,loginValid:this.loginValid}})],1)},[],!1,function(t){n("ornX")},"data-v-7ced31c8",null).exports,ce={name:"Logout",metaInfo:Z({title:"Logout",description:"Logout of StayWoke"}),created:function(){var t=this;this.$store.getters.isLoggedIn?S.Lambda.callPrivate("logout").then(function(e){L.$emit("USER_LOGOUT"),t.$store.dispatch("userLogout"),t.$store.dispatch("flushNews"),t.$store.dispatch("flushFeatured"),t.$store.dispatch("flushLatestActions"),window.location.href="/"},function(e){console.log("Logout Error:",e.message),L.$emit("USER_LOGOUT"),t.$store.dispatch("userLogout"),t.$store.dispatch("flushNews"),t.$store.dispatch("flushFeatured"),t.$store.dispatch("flushLatestActions"),window.location.href="/"}):this.$router.push({name:"index"})}},le=Object(F.a)(ce,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null).exports,ue=n("wJ3u"),de={name:"Register",metaInfo:Z({title:"Register",description:"Register with StayWoke"}),data:function(){return{errorMessage:null,registerSuccess:!1}},mounted:function(){this.$store.getters.isLoggedIn&&this.$router.push({name:"index"})},methods:{login:function(){this.$router.push({name:"login"})},registerValid:function(t){var e=this,n=this;this.errorMessage=null;var a={email:t.email,firstName:t.firstname,inviteCode:t.inviteCode,lastName:t.lastname,password:t.password,mobile:t.phone,username:t.username};S.Lambda.callPublic("register",a).then(function(t){t&&t.success&&setTimeout(function(){L.$emit("USER_REGISTER",t),L.$emit("USER_LOGIN",t),e.$store.dispatch("userLogin",t),window.location.href="/"},3e3)},function(t){console.error("REGISTER:",t),n.errorMessage=t.message})}},components:{Alert:Qt.a,RegisterForm:ue.a}},me=Object(F.a)(de,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade",mode:"in-out","enter-active-class":"fadeInLeft","leave-active-class":"hide"}},[n("div",[t.registerSuccess?n("el-alert",{staticClass:"success",attrs:{type:"success",title:"Account Created",description:"Redirecting to login page ...",closable:!1,"show-icon":""}}):t._e(),t._v(" "),t.registerSuccess?t._e():n("sw-register-form",{staticClass:"register",attrs:{"invite-only":"","error-message":t.errorMessage},on:{login:t.login,registerValid:t.registerValid}})],1)])},[],!1,function(t){n("spe9")},"data-v-bf4f33f6",null).exports,pe=n("aF4u"),fe={name:"ForgotPassword",metaInfo:Z({title:"Forgot Password",description:"Forgot Password to StayWoke"}),data:function(){return{}},created:function(){},methods:{login:function(){this.$router.push({name:"login"})},signUp:function(){this.$router.push({name:"register"})},hideLoginError:function(){},showLoginError:function(){},forgotPassword:function(){this.$router.push({name:"forgot-password"})},loginSuccess:function(){},loginError:function(){}},components:{ForgotPasswordForm:pe.a}},ge=Object(F.a)(fe,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade","enter-active-class":"fadeInLeft","leave-active-class":"hide"}},[e("sw-forgot-password-form",{staticClass:"forgot-password",on:{signUp:this.signUp,login:this.login,hideLoginError:this.hideLoginError,showLoginError:this.showLoginError,forgotPassword:this.forgotPassword,loginSuccess:this.loginSuccess,loginError:this.loginError}})],1)},[],!1,function(t){n("9O0a")},"data-v-776223cf",null).exports,he={name:"ActionsPage",metaInfo:Z({title:"Actions",description:"StayWoke Actions"}),data:function(){return{}},created:function(){},methods:{},components:{}},ve=Object(F.a)(he,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade","enter-active-class":"fadeInRight","leave-active-class":"hide"}},[e("div",{staticClass:"actions"},[this._v("COMING SOON")])])},[],!1,function(t){n("uWxY")},"data-v-07f39683",null).exports;a.default.use(_t.a);var we=new _t.a({mode:"history",routes:[{path:"/",name:"index",component:Vt},{path:"/login",name:"login",component:re},{path:"/register",name:"register",component:me},{path:"/logout",name:"logout",component:le,beforeEnter:function(t,e,n){window.confirm("Are you sure you want to logout?")?n():n(!1)}},{path:"/forgot-password",name:"forgot-password",component:ge},{path:"/news/:slug",name:"news",component:Zt},{path:"/actions/:slug",name:"actions",component:ve},{path:"/action/:type/:slug",name:"action",component:ie}]}),_e=n("vDqi"),Ce=n.n(_e),ke=n("Lq01"),ye=n.n(ke),be=n("f0Wu"),Ie=n.n(be),Ae=n("ud1V"),Le=n("ConA"),Oe=n.n(Le),Se=n("y1tp"),Ee=n("elWB"),De=n.n(Ee),Me=n("Ueau"),$e=n.n(Me),Te=n("hRUX"),Ue=n.n(Te),Ne=n("po9H"),xe=n.n(Ne),Pe=n("/2R3"),Re=n.n(Pe),Fe=n("R45h"),je=n.n(Fe),He=n("madX"),Ve=n.n(He),ze=n("0uZm"),We=n.n(ze),Be=n("12+7"),Ge=n.n(Be),Je=n("6UrG"),Xe=n.n(Je),Ye=n("oVis"),qe=n.n(Ye),Ke=n("kg4I"),Ze=n.n(Ke);Se.default.library.add($e.a,Ue.a,xe.a,Re.a,je.a,Ve.a,We.a,Ge.a,Xe.a,qe.a,Ze.a),a.default.component("font-awesome-icon",De.a),a.default.config.productionTip=!1,a.default.http=a.default.prototype.$http=Ce.a,a.default.appMode=a.default.prototype.appMode="widget",a.default.use(ye.a,{moment:Ie.a}),a.default.use(Ae.a,{debounce:600}),a.default.use(Oe.a),new a.default({el:"#app",router:we,store:A,components:{App:wt},template:"<App/>"})},b50P:function(t,e){},fEqO:function(t,e){},jWXf:function(t,e){},"n9+i":function(t,e){},nXv0:function(t,e){},ornX:function(t,e){},spe9:function(t,e){},uKh4:function(t,e){},uWxY:function(t,e){},yiOS:function(t,e){}});